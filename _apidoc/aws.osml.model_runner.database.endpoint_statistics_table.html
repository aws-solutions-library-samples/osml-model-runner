

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>aws.osml.model_runner.database.endpoint_statistics_table module &mdash; OversightML Model Runner  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            OversightML Model Runner
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OversightML Model Runner</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">aws.osml.model_runner.database.endpoint_statistics_table module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_apidoc/aws.osml.model_runner.database.endpoint_statistics_table.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-aws.osml.model_runner.database.endpoint_statistics_table">
<span id="aws-osml-model-runner-database-endpoint-statistics-table-module"></span><h1>aws.osml.model_runner.database.endpoint_statistics_table module<a class="headerlink" href="#module-aws.osml.model_runner.database.endpoint_statistics_table" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsItem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aws.osml.model_runner.database.endpoint_statistics_table.</span></span><span class="sig-name descname"><span class="pre">EndpointStatisticsItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">regions_in_progress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_regions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aws/osml/model_runner/database/endpoint_statistics_table.html#EndpointStatisticsItem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsItem" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="aws.osml.model_runner.database.ddb_helper.html#aws.osml.model_runner.database.ddb_helper.DDBItem" title="aws.osml.model_runner.database.ddb_helper.DDBItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">DDBItem</span></code></a></p>
<p>EndpointStatistics is a dataclass meant to represent a single item in the
EndpointStatisticsTable</p>
<p>The data schema is defined as follows:
endpoint: str = the Sagemaker endpoint to which the statistics pertain
regions_in_progress: int = the number of regions currently being processed</p>
<blockquote>
<div><p>for the associated endpoint</p>
</div></blockquote>
<dl class="simple">
<dt>max_regions: int = the maximum number of regions that an endpoint can concurrently</dt><dd><p>process before region requests should be throttled</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsItem.endpoint">
<span class="sig-name descname"><span class="pre">endpoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsItem.endpoint" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsItem.regions_in_progress">
<span class="sig-name descname"><span class="pre">regions_in_progress</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsItem.regions_in_progress" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsItem.max_regions">
<span class="sig-name descname"><span class="pre">max_regions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsItem.max_regions" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsTable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">aws.osml.model_runner.database.endpoint_statistics_table.</span></span><span class="sig-name descname"><span class="pre">EndpointStatisticsTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aws/osml/model_runner/database/endpoint_statistics_table.html#EndpointStatisticsTable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsTable" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="aws.osml.model_runner.database.ddb_helper.html#aws.osml.model_runner.database.ddb_helper.DDBHelper" title="aws.osml.model_runner.database.ddb_helper.DDBHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">DDBHelper</span></code></a></p>
<p>EndpointStatisticsTable is a class meant to help OSML with accessing and interacting with
the per endpoints processing statistics we track as part of the endpoint statistics table.
It extends the DDBHelper class and provides its own item data class for use when
working with items from the table. It also sets the key for which we index on this table
in the constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table_name</strong> – str = the name of the table to interact with</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsTable.upsert_endpoint">
<span class="sig-name descname"><span class="pre">upsert_endpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_regions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/aws/osml/model_runner/database/endpoint_statistics_table.html#EndpointStatisticsTable.upsert_endpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsTable.upsert_endpoint" title="Link to this definition"></a></dt>
<dd><p>Upserts an endpoint statistics entry. If the endpoint is already being
tracked then we update the max_region count for the existing entry. If an
endpoint is scaled up or down or the associated instance type changes the
maximum number of concurrent regions may change.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> – str = Sagemaker endpoint name</p></li>
<li><p><strong>max_regions</strong> – int = current max concurrent regions the endpoint can process</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsTable.increment_region_count">
<span class="sig-name descname"><span class="pre">increment_region_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/aws/osml/model_runner/database/endpoint_statistics_table.html#EndpointStatisticsTable.increment_region_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsTable.increment_region_count" title="Link to this definition"></a></dt>
<dd><p>Increases the in progress regions for the specified endpoint by 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>endpoint</strong> – str = Sagemaker endpoint name</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsTable.decrement_region_count">
<span class="sig-name descname"><span class="pre">decrement_region_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/aws/osml/model_runner/database/endpoint_statistics_table.html#EndpointStatisticsTable.decrement_region_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsTable.decrement_region_count" title="Link to this definition"></a></dt>
<dd><p>Decreases the in progress regions for the specified endpoint by 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>endpoint</strong> – str = Sagemaker endpoint name</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsTable.current_in_progress_regions">
<span class="sig-name descname"><span class="pre">current_in_progress_regions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../_modules/aws/osml/model_runner/database/endpoint_statistics_table.html#EndpointStatisticsTable.current_in_progress_regions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aws.osml.model_runner.database.endpoint_statistics_table.EndpointStatisticsTable.current_in_progress_regions" title="Link to this definition"></a></dt>
<dd><p>Retrieve the current number of in progress regions for the specified endpoint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>endpoint</strong> – str = Sagemaker endpoint name</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>int = current number of in progress regions</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Amazon.com.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

<style>
    .wy-nav-content { max-width: none; }
</style>



</body>
</html>